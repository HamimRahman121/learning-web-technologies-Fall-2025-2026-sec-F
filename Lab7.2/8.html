<!DOCTYPE html>
<html>
<head>
  <title>Task 8 â€“ Assignment Form Validation</title>
</head>
<body>
  <h2> Fill The Form </h2>

  <form onsubmit="return validateAll()" onreset="resetForm()">

    <!-- Name -->
    Name: <input type="text" id="name" onblur="checkName()">
    <p id="nameError"></p>

    <!-- Email -->
    Email: <input type="text" id="email" onblur="checkEmail()">
    <p id="emailError"></p>

    <!-- Gender -->
    Gender:
    <input type="radio" id="male" name="gender" value="Male"> Male
    <input type="radio" id="female" name="gender" value="Female"> Female
    <p id="genderError"></p>

    <!-- Date -->
    Date of Birth:
    <input type="text" id="day" size="2" placeholder="dd"> /
    <input type="text" id="month" size="2" placeholder="mm"> /
    <input type="text" id="year" size="4" placeholder="yyyy">
    <p id="dateError"></p>

    <!-- Degree -->
    Degree:
    <input type="checkbox" id="ssc"> SSC
    <input type="checkbox" id="hsc"> HSC
    <input type="checkbox" id="bsc"> BSc
    <p id="degreeError"></p>

    <!-- Blood Group -->
    Blood Group:
    <select id="blood">
      <option value="">--Select--</option>
      <option value="A+">A+</option>
      <option value="A-">A-</option>
      <option value="B+">B+</option>
      <option value="B-">B-</option>
      <option value="O+">O+</option>
      <option value="O-">O-</option>
      <option value="AB+">AB+</option>
      <option value="AB-">AB-</option>
    </select>
    <p id="bloodError"></p>

    <!-- User ID and Picture -->
    User ID: <input type="text" id="uid"><br><br>
    Picture: <input type="file" id="pic">
    <p id="finalError"></p>

    <!-- Buttons -->
    <input type="submit" value="Submit">
    <input type="reset" value="Reset">
  </form>

  <script>
    // --------- Name Validation ---------
    function checkName() {
      let nameError = document.getElementById("nameError");
      let name = document.getElementById("name").value.trim();

      if (name === "") {
        nameError.innerHTML = "Name cannot be empty!";
        nameError.style.color = "red";
        return false;
      }

      let words = name.split(" ").filter(w => w !== "");
      if (words.length < 2) {
        nameError.innerHTML = "Name must contain at least two words!";
        nameError.style.color = "red";
        return false;
      }

      let firstChar = name[0];
      if (!((firstChar >= 'A' && firstChar <= 'Z') || (firstChar >= 'a' && firstChar <= 'z'))) {
        nameError.innerHTML = "Name must start with a letter!";
        nameError.style.color = "red";
        return false;
      }

      for (let i = 0; i < name.length; i++) {
        let ch = name[i];
        if (
          !((ch >= 'A' && ch <= 'Z') ||
            (ch >= 'a' && ch <= 'z') ||
            ch === '.' || ch === '-' || ch === ' ')
        ) {
          nameError.innerHTML = "Name can contain only letters, dot (.), or dash (-)!";
          nameError.style.color = "red";
          return false;
        }
      }

      nameError.innerHTML = "";
      return true;
    }

    // --------- Email Validation ---------
    function checkEmail() {
      let emailError = document.getElementById("emailError");
      let email = document.getElementById("email").value.trim();

      if (email === "") {
        emailError.innerHTML = "Email cannot be empty!";
        emailError.style.color = "red";
        return false;
      }

      let atIndex = email.indexOf("@");
      let lastAt = email.lastIndexOf("@");
      if (atIndex === -1 || atIndex !== lastAt) {
        emailError.innerHTML = "Email must contain exactly one '@' symbol!";
        emailError.style.color = "red";
        return false;
      }

      if (atIndex === 0 || atIndex === email.length - 1) {
        emailError.innerHTML = "Email must have characters before and after '@'!";
        emailError.style.color = "red";
        return false;
      }

      let dotIndex = email.indexOf(".", atIndex);
      if (dotIndex === -1) {
        emailError.innerHTML = "Email must contain '.' after '@'!";
        emailError.style.color = "red";
        return false;
      }

      if (dotIndex === email.length - 1) {
        emailError.innerHTML = "Email cannot end with '.'!";
        emailError.style.color = "red";
        return false;
      }

      emailError.innerHTML = "";
      return true;
    }

    // --------- Gender Validation ---------
    function checkGender() {
      let genderError = document.getElementById("genderError");
      let male = document.getElementById("male").checked;
      let female = document.getElementById("female").checked;

      if (!male && !female) {
        genderError.innerHTML = "Please select a gender!";
        genderError.style.color = "red";
        return false;
      }

      genderError.innerHTML = "";
      return true;
    }

    // --------- Date Validation ---------
    function checkDate() {
      let dateError = document.getElementById("dateError");
      let day = document.getElementById("day").value.trim();
      let month = document.getElementById("month").value.trim();
      let year = document.getElementById("year").value.trim();

      if (day === "" || month === "" || year === "") {
        dateError.innerHTML = "Date fields cannot be empty!";
        dateError.style.color = "red";
        return false;
      }

      if (isNaN(day) || isNaN(month) || isNaN(year)) {
        dateError.innerHTML = "Date fields must be numeric!";
        dateError.style.color = "red";
        return false;
      }

      day = Number(day);
      month = Number(month);
      year = Number(year);

      if (day < 1 || day > 31) {
        dateError.innerHTML = "Day must be between 1 and 31!";
        dateError.style.color = "red";
        return false;
      }

      if (month < 1 || month > 12) {
        dateError.innerHTML = "Month must be between 1 and 12!";
        dateError.style.color = "red";
        return false;
      }

      if (year < 1900 || year > 2016) {
        dateError.innerHTML = "Year must be between 1900 and 2016!";
        dateError.style.color = "red";
        return false;
      }

      dateError.innerHTML = "";
      return true;
    }

    // --------- Degree Validation ---------
    function checkDegree() {
      let degreeError = document.getElementById("degreeError");
      let ssc = document.getElementById("ssc").checked;
      let hsc = document.getElementById("hsc").checked;
      let bsc = document.getElementById("bsc").checked;

      if (!ssc && !hsc && !bsc) {
        degreeError.innerHTML = "At least one degree must be selected!";
        degreeError.style.color = "red";
        return false;
      }

      degreeError.innerHTML = "";
      return true;
    }

    // --------- Blood Validation ---------
    function checkBlood() {
      let bloodError = document.getElementById("bloodError");
      let blood = document.getElementById("blood").value;

      if (blood === "") {
        bloodError.innerHTML = "Please select a blood group!";
        bloodError.style.color = "red";
        return false;
      }

      bloodError.innerHTML = "";
      return true;
    }

    // --------- User ID & Picture Validation ---------
    function checkUser() {
      let finalError = document.getElementById("finalError");
      let uid = document.getElementById("uid").value.trim();
      let pic = document.getElementById("pic").value.trim();

      if (uid === "") {
        finalError.innerHTML = "User ID cannot be empty!";
        finalError.style.color = "red";
        return false;
      }

      if (isNaN(uid) || Number(uid) <= 0) {
        finalError.innerHTML = "User ID must be a positive number!";
        finalError.style.color = "red";
        return false;
      }

      if (pic === "") {
        finalError.innerHTML = "Please upload a picture!";
        finalError.style.color = "red";
        return false;
      }

      finalError.innerHTML = "";
      return true;
    }

    // --------- Validate All Together ---------
    function validateAll() {
      let ok1 = checkName();
      let ok2 = checkEmail();
      let ok3 = checkGender();
      let ok4 = checkDate();
      let ok5 = checkDegree();
      let ok6 = checkBlood();
      let ok7 = checkUser();

      return ok1 && ok2 && ok3 && ok4 && ok5 && ok6 && ok7;
    }

    // --------- Reset Function ---------
    function resetForm() {
      document.getElementById("nameError").innerHTML = "";
      document.getElementById("emailError").innerHTML = "";
      document.getElementById("genderError").innerHTML = "";
      document.getElementById("dateError").innerHTML = "";
      document.getElementById("degreeError").innerHTML = "";
      document.getElementById("bloodError").innerHTML = "";
      document.getElementById("finalError").innerHTML = "";
    }
  </script>

</body>
</html>
